#!/bin/bash

echo "üöÄ Setting up GitHub Actions for FindBrexitConsultants.co.uk"
echo "=================================================="

# Step 1: Push to GitHub
echo ""
echo "üì§ STEP 1: Push code to GitHub"
echo "--------------------------------"
echo "Your code is ready to push to GitHub. Run these commands:"
echo ""
echo "cd /workspace/findbrexit-consultants"
echo "git push -u origin master"
echo ""
echo "If you encounter authentication issues:"
echo "1. Use GitHub CLI: gh auth login"
echo "2. Or generate a Personal Access Token from GitHub Settings"
echo "3. Or use SSH keys for authentication"
echo ""

# Step 2: Configure Secrets
echo "üîê STEP 2: Configure GitHub Repository Secrets"
echo "----------------------------------------------"
echo "Go to: https://github.com/mitchell1972/findbrexitconsultants/settings/secrets/actions"
echo ""
echo "Add these secrets for VERCEL deployment:"
echo "‚Ä¢ VERCEL_TOKEN"
echo "‚Ä¢ VERCEL_ORG_ID"  
echo "‚Ä¢ VERCEL_PROJECT_ID"
echo ""
echo "Add these secrets for HOSTINGER deployment:"
echo "‚Ä¢ HOSTINGER_FTP_HOST"
echo "‚Ä¢ HOSTINGER_FTP_USERNAME"
echo "‚Ä¢ HOSTINGER_FTP_PASSWORD"
echo "‚Ä¢ VITE_SUPABASE_URL"
echo "‚Ä¢ VITE_SUPABASE_ANON_KEY"
echo ""

# Step 3: Get Vercel Credentials
echo "üîß STEP 3: Get Vercel Credentials"
echo "---------------------------------"
echo "1. VERCEL_TOKEN:"
echo "   ‚Üí Go to https://vercel.com/account/tokens"
echo "   ‚Üí Create a new token"
echo "   ‚Üí Copy the token value"
echo ""
echo "2. VERCEL_ORG_ID and VERCEL_PROJECT_ID:"
echo "   ‚Üí Run 'vercel link' in your project locally"
echo "   ‚Üí Check .vercel/project.json for both IDs"
echo ""

# Step 4: Get Hostinger Credentials
echo "üåê STEP 4: Get Hostinger FTP Credentials"
echo "---------------------------------------"
echo "1. Login to Hostinger Control Panel"
echo "2. Go to File Manager ‚Üí FTP Access"
echo "3. Get/Create FTP credentials:"
echo "   ‚Ä¢ Host: Usually ftp.yourdomain.com"
echo "   ‚Ä¢ Username: Your FTP username"
echo "   ‚Ä¢ Password: Your FTP password"
echo ""

# Step 5: Test Deployment
echo "‚úÖ STEP 5: Test Deployment"
echo "-------------------------"
echo "After setting up secrets:"
echo "1. Make a small change to your code"
echo "2. Commit and push: git add . && git commit -m 'Test deployment' && git push"
echo "3. Check GitHub Actions tab for deployment status"
echo "4. Verify sites are live:"
echo "   ‚Ä¢ Vercel: [Preview URL from deployment]"
echo "   ‚Ä¢ Hostinger: https://FindBrexitConsultants.co.uk"
echo ""

echo "üéâ Setup Complete!"
echo "=================="
echo "Your GitHub Actions are configured for:"
echo "‚úì Automatic Vercel deployment"
echo "‚úì Automatic Hostinger deployment"  
echo "‚úì Dual hosting redundancy"
echo "‚úì Production-optimized builds"
echo ""
echo "Documentation available:"
echo "‚Ä¢ GITHUB_DEPLOYMENT_README.md"
echo "‚Ä¢ HOSTINGER_GITHUB_ACTIONS_SETUP.md"
echo "‚Ä¢ DUAL_DEPLOYMENT_GUIDE.md"
